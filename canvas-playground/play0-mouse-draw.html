<!DOCTYPE html>
<html>
<head>
    <title>Mosey JS test</title>
</head>
<body>

<div id="main" style="padding: 50px;">
    <div id="my-canvas-test">
        
    </div>
</div>

<script type="text/javascript">
    var mdiv = document.getElementById("my-canvas-test");
    var canv = document.createElement("canvas");
    canv.setAttribute("id","can0");
    canv.style.backgroundColor="grey";
    mdiv.appendChild(canv);
    var ctx = canv.getContext("2d");
    canv.onmousedown=e=>{ctx.beginPath();ctx.moveTo(e.clientX-canv.offsetLeft,e.clientY-canv.offsetTop);};
    canv.onmousemove=e=>{
        if ( document.querySelector('#can0:active') ) {
            ctx.lineTo(e.clientX-canv.offsetLeft,e.clientY-canv.offsetTop);ctx.stroke();
        }
    };

</script>

</body>
</html>